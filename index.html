<!DOCTYPE html>
<html lang="sv-SE">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <!-- PWA / iOS status bar full-bleed -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="theme-color" content="#001935" />
    <title>Parium</title>
    <meta name="description" content="Parium">
    <meta name="author" content="Lovable" />
    <meta http-equiv="Content-Language" content="sv-SE" />
    <meta name="build-version" content="2026-01-03T21:15Z" />
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- ðŸš€ FONT OPTIMIZATION: Preload critical font with swap for no FOUT -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>
    <!-- Preload critical images -->
    <link rel="preload" as="image" href="/lovable-uploads/79c2f9ec-4fa4-43c9-9177-5f0ce8b19f57.png" fetchpriority="high" />
    <link rel="preload" as="image" href="/src/assets/parium-logo-rings.png" fetchpriority="high" />
    <link rel="preload" as="image" href="/assets/hero-woman-left-hand-verified.jpg" type="image/jpeg" fetchpriority="high" />
    <!-- Auth page logo - preload for instant splash -->
    <link rel="preload" as="image" href="/parium-auth-logo.png" fetchpriority="high" />
 
      
    
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="sv_SE" />
    <meta property="og:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/ba8bMyn0QxTPSBwPQ9Xu1sYbNQ83/social-images/social-1758650191938-remove_watermark_image_20250806_181213.png">

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/ba8bMyn0QxTPSBwPQ9Xu1sYbNQ83/social-images/social-1758650191938-remove_watermark_image_20250806_181213.png">
    
  
  
  
  
  
  
  
  <meta property="og:title" content="Parium">
  <meta name="twitter:title" content="Parium">
  <meta property="og:description" content="Parium">
  <meta name="twitter:description" content="Parium">
  <link rel="icon" type="image/png" href="/favicon-v3.png?v=3">
  <script>
    // Detect /auth route and add class to <html> BEFORE first paint (runs in <head>)
    (function() {
      if (location.pathname === '/auth' || location.pathname.startsWith('/auth?') || location.pathname.startsWith('/auth#')) {
        document.documentElement.classList.add('route-auth');
      }
    })();
  </script>
<style>
    /* ðŸš€ CSS CONTAINMENT: Isolate repaints for better performance */
    #root { 
      position: relative; 
      z-index: 1;
      contain: layout style;
    }
    
    /* Dedicated full-screen background layer to eliminate iOS PWA banding/stripes */
    #app-bg { display: none !important; }

    /* ðŸš€ TOUCH OPTIMIZATION: Ensure smooth scrolling and touch */
    html {
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }
    
    /* Prevent text size adjust on orientation change */
    body {
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }
    
    /* ðŸš€ LAYOUT SHIFT PREVENTION: Pre-allocate space for images */
    img {
      content-visibility: auto;
    }

    /* Global CSS var to offset decorations in PWA */
    :root { --pwa-top-offset: 0px; }

    /* In standalone (Add to Home Screen) keep a solid base color under the gradient */
    @media (display-mode: standalone) {
      html, body { 
        background: hsl(215 100% 12%) !important;
        min-height: calc(100dvh + env(safe-area-inset-bottom, 0px));
        padding-top: max(env(safe-area-inset-top, 0px), 88px);
      }
      :root { --pwa-top-offset: max(env(safe-area-inset-top, 0px), 88px); }
    }

    /* iOS hint: keep Tailwind bounce but reduce initial blur */
    .animate-bounce { -webkit-backface-visibility: hidden; backface-visibility: hidden; }

    /* Portrait-only overlay - show message in landscape mode */
    #portrait-warning {
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: hsl(215 100% 12%);
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      text-align: center;
    }

    /* Only show on touch devices (phones/tablets), not desktop with mouse */
    @media (orientation: landscape) and (max-height: 600px) and (pointer: coarse) {
      #portrait-warning {
        display: flex;
      }
      #root {
        visibility: hidden;
      }
    }
  </style>
</head>

  <body>
    <!-- Portrait-only warning -->
    <div id="portrait-warning" role="alert" aria-live="polite">
      <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 2rem; opacity: 0.9;">
        <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
        <line x1="12" y1="18" x2="12.01" y2="18"/>
      </svg>
      <h1 style="color: white; font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; font-family: Inter, sans-serif;">
        Rotera din enhet
      </h1>
      <p style="color: rgb(255,255,255); font-size: 1rem; font-family: Inter, sans-serif; max-width: 320px;">
        Parium fungerar bÃ¤st i portrÃ¤ttlÃ¤ge. Vrid tillbaka din telefon fÃ¶r att fortsÃ¤tta
      </p>
    </div>
    
    <div id="app-bg" aria-hidden="true"></div>
    <!-- Hidden hero preloader for Safari/iOS -->
    <img src="/assets/hero-woman-left-hand-verified.jpg" alt="" aria-hidden="true" decoding="sync" fetchpriority="high" style="position:absolute;width:0;height:0;overflow:hidden;opacity:0;pointer-events:none;" />

    <div id="root"></div>

    <!--
      ðŸ”¥ AUTH SPLASH: Instant logo visible BEFORE React hydrates (desktop only).
      MUST be AFTER #root so the CSS sibling selector (#root:not(:empty) + #auth-splash) works.
      Hidden on mobile (handled by AuthMobile). Auto-hidden when React populates #root.
      CRITICAL: Must match EXACT same image and sizing as AuthDesktop.tsx AuthLogoInline!
    -->
    <div id="auth-splash" aria-hidden="true">
      <div class="auth-splash-inner">
        <div class="auth-splash-logo-container">
          <!-- Glow effects behind logo (same as AuthDesktop) -->
          <div class="auth-splash-glow auth-splash-glow-1"></div>
          <div class="auth-splash-glow auth-splash-glow-2"></div>
          <div class="auth-splash-glow auth-splash-glow-3"></div>
          <div class="auth-splash-glow auth-splash-glow-4"></div>
          <!-- Logo: matches AuthDesktop h-56 w-[min(35rem,90vw)] lg:h-64 lg:w-[min(40rem,90vw)] -->
          <img
            src="/parium-auth-logo.png"
            alt="Parium"
            decoding="sync"
            fetchpriority="high"
            class="auth-splash-logo"
          />
        </div>
      </div>
    </div>
    <style>
      /* Auth splash - hidden by default, shown only on /auth desktop route */
      #auth-splash {
        display: none;
        position: fixed;
        inset: 0;
        z-index: 9998;
        background: linear-gradient(135deg, hsl(215 100% 10%) 0%, hsl(215 100% 6%) 100%);
        align-items: center;
        justify-content: center;
        pointer-events: none;
        padding-top: 2rem;
      }
      .auth-splash-inner {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        max-width: 42rem;
        text-align: center;
      }
      .auth-splash-logo-container {
        height: 260px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }
      .auth-splash-glow {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transform: translateY(-0.5rem);
      }
      .auth-splash-glow::before {
        content: '';
        border-radius: 9999px;
      }
      .auth-splash-glow-1::before { width: 18rem; height: 13rem; background: hsla(200, 100%, 60%, 0.25); filter: blur(40px); }
      .auth-splash-glow-2::before { width: 13rem; height: 9rem; background: hsla(200, 100%, 60%, 0.22); filter: blur(35px); }
      .auth-splash-glow-3::before { width: 11rem; height: 7rem; background: hsla(200, 100%, 60%, 0.20); filter: blur(30px); }
      .auth-splash-glow-4::before { width: 9rem; height: 5rem; background: hsla(200, 100%, 60%, 0.18); filter: blur(25px); }
      .auth-splash-logo {
        position: relative;
        z-index: 10;
        height: 224px;
        width: min(560px, 90vw);
        object-fit: contain;
        pointer-events: none;
      }
      /* lg breakpoint (1024px+): match AuthDesktop lg:h-64 lg:w-[min(40rem,90vw)] */
      @media (min-width: 1024px) {
        .auth-splash-logo {
          height: 256px;
          width: min(640px, 90vw);
        }
      }
      /* Show auth splash ONLY on /auth route, desktop (768px+), until React populates #root */
      @media (min-width: 768px) {
        html.route-auth #auth-splash { display: flex; }
        /* Hide splash when #root has content (React mounted) - sibling selector works because splash is after root */
        html.route-auth #root:not(:empty) ~ #auth-splash { display: none !important; }
      }
    </style>
    <script>
      try {
        const meta = document.querySelector('meta[name="build-version"]');
        const v = meta?.getAttribute('content') || '';
        const key = 'parium_build_version';
        const prev = localStorage.getItem(key);
        if (!prev) {
          localStorage.setItem(key, v);
        } else if (prev !== v) {
          localStorage.setItem(key, v);
          // Best-effort purge of runtime caches to fight iOS PWA sticky caching
          if (navigator.serviceWorker && navigator.serviceWorker.getRegistrations) {
            navigator.serviceWorker.getRegistrations().then(rs => rs.forEach(r => r.unregister())).catch(() => {});
          }
          if (window.caches && caches.keys) {
            caches.keys().then(keys => Promise.all(keys.map(k => caches.delete(k)))).catch(() => {});
          }
          const url = new URL(window.location.href);
          url.searchParams.set('v', v.replace(/\D/g, '').slice(0, 12));
          if (window.location.href !== url.toString()) {
            window.location.replace(url.toString());
          } else {
            window.location.reload();
          }
        }
      } catch (e) { /* noop */ }
    </script>
    <script>
      (function() {
        try {
          var isStandalone = window.matchMedia && window.matchMedia('(display-mode: standalone)').matches;
          // iOS specific fallback
          // @ts-ignore
          if (!isStandalone && typeof navigator !== 'undefined' && navigator.standalone) {
            isStandalone = true;
          }
          if (isStandalone) {
            var base = 88; // default offset for status area in standalone
            document.documentElement.style.setProperty('--pwa-top-offset', base + 'px');
            document.body.style.setProperty('--pwa-top-offset', base + 'px');
          }
        } catch (e) { /* noop */ }
      })();
    </script>
    <!-- Service Worker endast i produktion fÃ¶r att undvika stÃ¶rande reloads i utveckling -->
    <script>
      // SW disabled in preview - handled by main.tsx in production only
      // This prevents SW from interfering with HMR and causing slow reloads on touch devices
    </script>
    <script type="module" src="/src/main.tsx?v=20251004-1510"></script>
  </body>
</html>
