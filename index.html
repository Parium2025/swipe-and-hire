<!DOCTYPE html>
<html lang="sv-SE">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <!-- PWA / iOS status bar full-bleed -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="theme-color" content="#001935" />
    <title>Parium</title>
    <meta name="description" content="Parium">
    <meta name="author" content="Lovable" />
    <meta http-equiv="Content-Language" content="sv-SE" />
    <meta name="build-version" content="2026-01-03T21:15Z" />
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- ðŸš€ FONT OPTIMIZATION: Preload critical font with swap for no FOUT -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>
    <!-- Preload critical images - auth logo preloaded on ALL pages for instant /auth navigation -->
    <link rel="preload" as="image" href="/lovable-uploads/parium-auth-logo.png" fetchpriority="high" />
    <link rel="preload" as="image" href="/lovable-uploads/79c2f9ec-4fa4-43c9-9177-5f0ce8b19f57.png" fetchpriority="high" />
    <link rel="preload" as="image" href="/src/assets/parium-logo-rings.png" fetchpriority="high" />
    <link rel="preload" as="image" href="/assets/hero-woman-left-hand-verified.jpg" type="image/jpeg" fetchpriority="high" />
 
      
    
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="sv_SE" />
    <meta property="og:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/ba8bMyn0QxTPSBwPQ9Xu1sYbNQ83/social-images/social-1758650191938-remove_watermark_image_20250806_181213.png">

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/ba8bMyn0QxTPSBwPQ9Xu1sYbNQ83/social-images/social-1758650191938-remove_watermark_image_20250806_181213.png">
    
  
  
  
  
  
  
  
  <meta property="og:title" content="Parium">
  <meta name="twitter:title" content="Parium">
  <meta property="og:description" content="Parium">
  <meta name="twitter:description" content="Parium">
  <link rel="icon" type="image/png" href="/favicon-v3.png?v=3">
<style>
    /* ðŸš€ CSS CONTAINMENT: Isolate repaints for better performance */
    #root { 
      position: relative; 
      z-index: 1;
      contain: layout style;
    }
    
    /* Dedicated full-screen background layer to eliminate iOS PWA banding/stripes */
    #app-bg { display: none !important; }

    /* ðŸš€ TOUCH OPTIMIZATION: Ensure smooth scrolling and touch */
    html {
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      /* Prevent white flash on page load/refresh */
      background: hsl(215 100% 12%);
    }
    
    body {
      background: hsl(215 100% 12%);
    }
    
    /* Prevent text size adjust on orientation change */
    body {
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }
    
    /* ðŸš€ LAYOUT SHIFT PREVENTION: Pre-allocate space for images */
    img {
      content-visibility: auto;
    }

    /* Global CSS var to offset decorations in PWA */
    :root { --pwa-top-offset: 0px; }

    /* In standalone (Add to Home Screen) keep a solid base color under the gradient */
    @media (display-mode: standalone) {
      html, body { 
        background: hsl(215 100% 12%) !important;
        min-height: calc(100dvh + env(safe-area-inset-bottom, 0px));
        padding-top: max(env(safe-area-inset-top, 0px), 88px);
      }
      :root { --pwa-top-offset: max(env(safe-area-inset-top, 0px), 88px); }
    }

    /* iOS hint: keep Tailwind bounce but reduce initial blur */
    .animate-bounce { -webkit-backface-visibility: hidden; backface-visibility: hidden; }

    /* Portrait-only overlay - show message in landscape mode */
    #portrait-warning {
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: hsl(215 100% 12%);
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      text-align: center;
    }

    /* Only show on touch devices (phones/tablets), not desktop with mouse */
    @media (orientation: landscape) and (max-height: 600px) and (pointer: coarse) {
      #portrait-warning {
        display: flex;
      }
      #root {
        visibility: hidden;
      }
    }
  </style>
  <script>
    // EARLY outsidan route detection (runs in <head>) so the splash is visible on refresh.
    // Adds class on <html> (and body when available) to avoid a "late" splash.
    (function() {
      try {
        var path = location.pathname || '';
        var isOutsidan = path === '/auth' || path.startsWith('/auth');
        if (!isOutsidan) return;

        var hasSession = false;
        try {
          // Auth session lives in localStorage under sb-{projectId}-auth-token
          var sessionKey = 'sb-jrjaegapuujushsiofoi-auth-token';
          var sessionData = localStorage.getItem(sessionKey);
          if (sessionData) {
            var parsed = JSON.parse(sessionData);
            if (parsed && parsed.access_token) {
              var expiresAt = parsed.expires_at;
              if (expiresAt && (expiresAt * 1000) > Date.now()) {
                hasSession = true;
              }
            }
          }
        } catch (e) {
          // ignore
        }

        if (!hasSession) {
          // Timestamp for minimum-display timing in app bootstrap.
          window.__pariumAuthSplashTs = Date.now();
          document.documentElement.classList.add('route-outsidan');
          if (document.body) document.body.classList.add('route-outsidan');
        }
      } catch (e) {
        // ignore
      }
    })();
  </script>
</head>

  <body>
    <!-- Portrait-only warning -->
    <div id="portrait-warning" role="alert" aria-live="polite">
      <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 2rem; opacity: 0.9;">
        <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
        <line x1="12" y1="18" x2="12.01" y2="18"/>
      </svg>
      <h1 style="color: white; font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; font-family: Inter, sans-serif;">
        Rotera din enhet
      </h1>
      <p style="color: rgb(255,255,255); font-size: 1rem; font-family: Inter, sans-serif; max-width: 320px;">
        Parium fungerar bÃ¤st i portrÃ¤ttlÃ¤ge. Vrid tillbaka din telefon fÃ¶r att fortsÃ¤tta
      </p>
    </div>
    
    <div id="app-bg" aria-hidden="true"></div>
    <!-- Hidden hero preloader for Safari/iOS -->
    <img src="/assets/hero-woman-left-hand-verified.jpg" alt="" aria-hidden="true" decoding="sync" fetchpriority="high" style="position:absolute;width:0;height:0;overflow:hidden;opacity:0;pointer-events:none;" />

    <!--
      ðŸ”¥ PARIUM LOADING SPLASH: Branded shell shown on refresh/navigation to outsidan.
      Shows: Logo + "Din karriÃ¤rresa bÃ¶rjar hÃ¤r" + animated dots.
      Visible when: /auth or / (landing) AND user is NOT logged in.
      Auto-hidden when React mounts and takes over.
    -->
    <div id="auth-splash" aria-hidden="true" style="
      display: none;
      position: fixed;
      inset: 0;
      z-index: 9998;
      background: radial-gradient(circle at 50% 40%, hsla(200, 100%, 50%, 0.4) 0%, hsla(200, 100%, 50%, 0.15) 50%, hsla(200, 100%, 50%, 0) 80%), linear-gradient(180deg, hsl(215 100% 12%), hsl(215 100% 12%));
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    ">
      <img
        src="/lovable-uploads/parium-auth-logo.png"
        alt="Parium"
        decoding="sync"
        fetchpriority="high"
        width="240"
        style="max-width: min(240px, 60vw); height: auto; object-fit: contain; margin-bottom: -64px;"
      />
      <p style="margin-top: 0; color: rgba(255,255,255,0.9); font-size: 1.25rem; font-weight: 500; letter-spacing: 0.025em; text-align: center; padding: 0 1rem; font-family: Inter, sans-serif;">
        Din karriÃ¤rresa bÃ¶rjar hÃ¤r
      </p>
      <div style="margin-top: 1.25rem; display: flex; align-items: center; gap: 0.5rem;">
        <span class="splash-dot" style="width: 12px; height: 12px; border-radius: 50%; background: hsl(var(--primary-glow)); opacity: 0.35; transform: scale(0.85) translateZ(0); will-change: transform, opacity; backface-visibility: hidden; animation: splash-pulse 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; animation-fill-mode: both;"></span>
        <span class="splash-dot" style="width: 12px; height: 12px; border-radius: 50%; background: hsl(var(--primary-glow)); opacity: 0.35; transform: scale(0.85) translateZ(0); will-change: transform, opacity; backface-visibility: hidden; animation: splash-pulse 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite 0.4s; animation-fill-mode: both;"></span>
        <span class="splash-dot" style="width: 12px; height: 12px; border-radius: 50%; background: hsl(var(--primary-glow)); opacity: 0.35; transform: scale(0.85) translateZ(0); will-change: transform, opacity; backface-visibility: hidden; animation: splash-pulse 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite 0.8s; animation-fill-mode: both;"></span>
      </div>
    </div>
    <style>
      @keyframes splash-pulse {
        0%, 100% { opacity: 0.35; transform: scale(0.85); }
        50% { opacity: 1; transform: scale(1.1); }
      }
      /* Show splash on outsidan routes (/ or /auth) when NOT logged in */
      /* Must use !important to override inline style="display:none" on #auth-splash */
      html.route-outsidan #auth-splash,
      body.route-outsidan #auth-splash { display: flex !important; }

      html.route-outsidan #auth-splash.hidden,
      body.route-outsidan #auth-splash.hidden { display: none !important; }
    </style>
    

    <div id="root"></div>
    <script>
      try {
        const meta = document.querySelector('meta[name="build-version"]');
        const v = meta?.getAttribute('content') || '';
        const key = 'parium_build_version';
        const prev = localStorage.getItem(key);
        if (!prev) {
          localStorage.setItem(key, v);
        } else if (prev !== v) {
          localStorage.setItem(key, v);
          // Best-effort purge of runtime caches to fight iOS PWA sticky caching
          if (navigator.serviceWorker && navigator.serviceWorker.getRegistrations) {
            navigator.serviceWorker.getRegistrations().then(rs => rs.forEach(r => r.unregister())).catch(() => {});
          }
          if (window.caches && caches.keys) {
            caches.keys().then(keys => Promise.all(keys.map(k => caches.delete(k)))).catch(() => {});
          }
          const url = new URL(window.location.href);
          url.searchParams.set('v', v.replace(/\D/g, '').slice(0, 12));
          if (window.location.href !== url.toString()) {
            window.location.replace(url.toString());
          } else {
            window.location.reload();
          }
        }
      } catch (e) { /* noop */ }
    </script>
    <script>
      (function() {
        try {
          var isStandalone = window.matchMedia && window.matchMedia('(display-mode: standalone)').matches;
          // iOS specific fallback
          // @ts-ignore
          if (!isStandalone && typeof navigator !== 'undefined' && navigator.standalone) {
            isStandalone = true;
          }
          if (isStandalone) {
            var base = 88; // default offset for status area in standalone
            document.documentElement.style.setProperty('--pwa-top-offset', base + 'px');
            document.body.style.setProperty('--pwa-top-offset', base + 'px');
          }
        } catch (e) { /* noop */ }
      })();
    </script>
    <!-- Service Worker endast i produktion fÃ¶r att undvika stÃ¶rande reloads i utveckling -->
    <script>
      // SW disabled in preview - handled by main.tsx in production only
      // This prevents SW from interfering with HMR and causing slow reloads on touch devices
    </script>
    <script type="module" src="/src/main.tsx?v=20251004-1510"></script>
  </body>
</html>
